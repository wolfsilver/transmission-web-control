var saveAs=saveAs||function(t){"use strict";var e=t.document,r=t.URL||t.webkitURL||t,n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in n,i=t.webkitRequestFileSystem,a=t.requestFileSystem||i||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",s=0,f=[],l=function(t,e,r){for(var n=(e=[].concat(e)).length;n--;){var o=t["on"+e[n]];if("function"==typeof o)try{o.call(t,r||t)}catch(t){c(t)}}},d=function(r,c){var d,v,w,p,y,h=this,R=r.type,E=!1,m=function(e){var r=(t.URL||t.webkitURL||t).createObjectURL(e);return f.push(r),r},N=function(){l(h,"writestart progress write writeend".split(" "))},S=function(){!E&&d||(d=m(r)),v.location.href=d,h.readyState=h.DONE,N()},O=function(t){return function(){if(h.readyState!==h.DONE)return t.apply(this,arguments)}},b={create:!0,exclusive:!1};if(h.readyState=h.INIT,c||(c="download"),o&&(d=m(r),n.href=d,n.download=c,p=n,(y=e.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),p.dispatchEvent(y)))return h.readyState=h.DONE,void N();t.chrome&&R&&R!==u&&(w=r.slice||r.webkitSlice,r=w.call(r,0,r.size,u),E=!0),v=R===u||i?t:t.open(),a?(s+=r.size,a(t.TEMPORARY,s,O(function(t){t.root.getDirectory("saved",b,O(function(t){var e=function(){t.getFile(c,b,O(function(t){t.createWriter(O(function(e){e.onwriteend=function(e){v.location.href=t.toURL(),f.push(t),h.readyState=h.DONE,l(h,"writeend",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&S()},"writestart progress write abort".split(" ").forEach(function(t){e["on"+t]=h["on"+t]}),e.write(r),h.abort=function(){e.abort(),h.readyState=h.DONE},h.readyState=h.WRITING}),S)}),S)};t.getFile(c,{create:!1},O(function(t){t.remove(),e()}),O(function(t){t.code===t.NOT_FOUND_ERR?e():S()}))}),S)}),S)):S()},v=d.prototype;return v.abort=function(){var t=this;t.readyState=t.DONE,l(t,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,t.addEventListener("unload",function(){for(var t=f.length;t--;){var e=f[t];"string"==typeof e?r.revokeObjectURL(e):e.remove()}f.length=0},!1),function(t,e){return new d(t,e)}}(self);
function getGrayLevel(e){return e||(e={R:0,G:0,B:0}),"string"==typeof e&&(e=e.getRGB()),(.299*e.R+.587*e.G+.114*e.B)/255}function getLocalTime(e){return new Date(1e3*parseInt(e)).toLocaleString().replace(/年|月/g,"-").replace(/日/g," ")}function formatLongTime(e,t){return formatDate(new Date(1e3*parseInt(e)))}function formatDate(e,t){if(t||(t="yyyy-mm-dd hh:nn:ss"),e instanceof Date){var r=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),n=e.getFullYear(),a=n.toString().substring(2),i=e.getMonth()+1,s=i<10?"0"+i:i,l=r[i],o=e.getDate(),u=o<10?"0"+o:o,c=e.getHours(),f=c<10?"0"+c:c,p=e.getMinutes(),h=p<10?"0"+p:p,g=e.getSeconds(),d=g<10?"0"+g:g;return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/yyyy/i,n)).replace(/yy/i,a)).replace(/mmm/i,l)).replace(/mm/i,s)).replace(/m/i,i)).replace(/dd/i,u)).replace(/d/i,o)).replace(/hh/i,f)).replace(/h/i,c)).replace(/nn/i,h)).replace(/n/i,p)).replace(/ss/i,d)).replace(/s/i,g)}return""}function formatSize(e,t,r){if(0==e)return 1==t?"":"speed"==r?"0.00 KB/s":"0.00";var n="",a="KB";return e<1024e3?(n=e/1024,a="KB"):e<1048576e3?(n=e/1048576,a="MB"):e<0xfa00000000?(n=e/1073741824,a="GB"):e<0x3e80000000000?(n=e/1099511627776,a="TB"):(n=e/0x4000000000000,a="PB"),"speed"==r&&(a+="/s"),n.formatNumber("###,###,###,###.00 ")+a}function getHoursFromMinutes(e){return("00"+parseInt(e/60,10)).right(2)+":"+("00"+e%60).right(2)}function getMinutesFromHours(e){return 60*parseInt(e.split(":")[0],10)+parseInt(e.split(":")[1],10)}function getTotalTime(e,t){t||(t="%dd %hh %mm %ss ");var r=Math.floor(e/864e5),n=e%864e5,a=Math.floor(n/36e5),i=n%36e5,s=Math.floor(i/6e4),l=i%6e4,o=Math.round(l/1e3),u=t;return u=0==r?u.replace(/(%d+\s)/,""):u.replace("%d",r),u=0==a?u.replace(/(%h+\s)/,""):u.replace("%h",a),u=0==s?u.replace(/(%m+\s)/,""):u.replace("%m",s),u=0==o?u.replace(/(%s+\s)/,""):u.replace("%s",o)}function arrayObjectSort(e,t){return function(r,n){var a=r[e],i=n[e];return a<i?"desc"==t?1:-1:a>i?"desc"==t?-1:1:0}}function timedChunk(e,t,r,n,a){var i=e.concat();null==n&&(n=25),setTimeout(function(){var s=+new Date;do{t.call(r,i.shift())}while(i.length>0&&+new Date-s<100);i.length>0?setTimeout(arguments.callee,n):a&&a(e)},n)}function uniq(e){var t={};return e.filter(function(e){return!t.hasOwnProperty(e)&&(t[e]=!0)})}function loadFileContent(e,t){$("<input id='file-loadContent' type='file' style='display:none;' multiple='true'/>").on("change",function(){var r=this;if(r.files.length>0&&r.files[0].name.length>0){var n=r.files,a=n.length,i=0,s=new FileReader;function l(t){if(i==a)return $(r).remove(),void(r.value="");var l=(t=n[i]).name.lastIndexOf("."),o=t.name.substr(l+1);i++,e&&o!=e?alert("文件类型错误"):s.readAsText(t)}s.onload=function(e){t&&t.call(system,e.target.result),l()},s.onerror=function(){alert("文件加载失败"),console.log("文件加载失败"),l()},l()}}).click()}function saveFileAs(e,t){try{var r=window.Blob||window.WebKitBlob,n=!1;if(r)try{new r([],{type:"text/plain"}),n=!0}catch(e){}var a=null;if(n)a=new r([t],{type:"text/plain"});else{var i=new(window.BlobBuilder||window.WebKitBlobBuilder);i.append(t),a=i.getBlob("text/plain")}saveAs(a,e)}catch(e){console.log(e.toString())}}String.prototype.getQueryString=function(e,t){null==t&&(t="&");var r,n=new RegExp("(^|"+t+"|\\?)"+e+"=([^"+t+"]*)("+t+"|$)");return(r=this.match(n))?unescape(r[2]):null},String.prototype.right=function(e){return this.substr(-e)},String.prototype.getHostName=function(){var e=this,t=this.match(/^\w+\:\/\/([^\/]*).*/);return void 0!==t&&null!=t&&-1!=(e=t[1]).indexOf(":")&&(e=e.split(":")[0]),e},Number.prototype.formatNumber=function(e){this.fStr=function(e,t,n){if(""==e||null==e)return""==t||null==t?"":t;var a,i=s=r="";n||(e=e.split("").reverse().join(""),t=t.split("").reverse().join(""));for(var l=j=0;l<t.length;l++,j++)if(s=e.charAt(j),null!=s)switch(i=t.charAt(l)){case"#":r+=s,a=l;break;case"0":r=s||s==i?r+s:r+0,a=l;break;case".":case",":r+=s==i?s:(j--,i);break;default:r+=i,j--}return j!=e.length&&"0"!=t.charAt(t.length-1)&&a!=t.length&&"0"!=t.charAt(a)&&(r=r.substr(0,a+1)+e.substr(j)+r.substr(a+1)),r=(n?r:r.split("").reverse().join("")).replace(/(^,)|(,$)|(,,+)/g,""),","==r.substr(0,1)&&(r=r.substr(1)),"-,"==r.substr(0,2)&&(r="-"+r.substr(2)),r};var t=this.toString();return 0==t.length?"":null==e?this:(e=e.split("."),t=t.split("."),e.length>1?this.fStr(t[0],e[0])+"."+this.fStr(t[1],e[1],1):this.fStr(t[0],e[0]))},String.prototype.getRGB=function(){var e=this.toLowerCase();if(e&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/.test(e)){if(4===e.length){for(var t="#",r=1;r<4;r+=1)t+=e.slice(r,r+1).concat(e.slice(r,r+1));e=t}var n=[];for(r=1;r<7;r+=2)n.push(parseInt("0x"+e.slice(r,r+2)));return{R:n[0],G:n[1],B:n[2]}}return this},function(e){e.fn.fadeInAndOut=function(t,r,n){var a={speed:t,easing:r,fn:n};e.extend(a,e.fn.fadeInAndOut.defaults),this.fadeIn(a.speed).delay(a.speed).fadeOut(a.speed,a.easing,a.fn)},e.fn.fadeInAndOut.defaults={speed:1e3,easing:"swing",fn:null}}(jQuery);